<section class="banner-area">
  <div class="container">
    <div class="row ">
      <div class="col-md-6 text-left">
        <div class="banner-text">
          <h1 class="ellipsis">Best Doctors in India</h1>
          <h6 class="multi-ellipsis line-3">RLV helps you with the most experienced doctors on your case, receive the
            best treatment with us across
            India. <br>Get your queries regarding your treatment and condition solves by the reputed doctors through
            online consultation.</h6>
        </div>
      </div>
      <div class="col-md-6 text-left"></div>
    </div>
  </div>
  <app-common-filters></app-common-filters>
</section>

<section class="card-view">
  <div class="container p-0">
    <div class="row">
      <div class="col-sm-3">
        <app-product-filters [filterVisibleFor]="'doctors'"></app-product-filters>
      </div>
      <div class="col-sm-9 pleft-50">
        <div class="card-row" *ngFor="let i of [].constructor(totalRecords); let index = index;">
          <div class="card fs-12 fw-normal m-all-5 d-inline-block pointer"
            *ngFor="let item of reportData | slice: (cardPerRow*index): ((cardPerRow*index)+cardPerRow)"
            (click)="selectCard(item,index)">
            <ng-container [ngTemplateOutlet]="cardObj" [ngTemplateOutletContext]="{dataObj:item }"></ng-container>
          </div>
          <div class="card-info" [ngClass]="{'open': selectedCard.rowIndex === index}">
            <div class="p-all-30 overflow-hidden mbottom-20 bg-white" *ngIf="selectedCard.rowIndex === index">
              <ng-container [ngTemplateOutlet]="cardDetails"></ng-container>
            </div>
          </div>
        </div>

        <!-- Card View -->
        <ng-template #cardObj let-item='dataObj'>
          <div class="card-img-top">
            <div class="card-img" *ngIf="!item.img" [style.background-image]="'url(assets/images/default-img.png)'"></div>
            <div class="card-img rounded-0" *ngIf="item.img" [style.background-image]="'url(' + item.img + ')'"></div>
          </div>
          <div class="card-body border-top rounded-bottom text-center" [ngClass]="{'primary-bg text-white': selectedCard.id === item.id}">
            <div class="mbottom-5 fs-16 fw-bolder ellipsis" [title]="item.displayName">{{item.displayName}}</div>
            <div class="mbottom-5 ellipsis" [title]="item.qualification">{{item.qualification}}</div>
            <div class="mbottom-5 ellipsis" [title]="item.designation">{{item.designation}}</div>
          </div>
        </ng-template>

        <!-- Selected Card Details View -->
        <ng-template #cardDetails>
          <div class="row customRow rounded">
            <div class="col-sm-5 p-0">
              <img class="card-img rounded-start" *ngIf="selectedCard.img" [src]="selectedCard.img" alt="card-image">
              <img class="card-img rounded-start" *ngIf="!selectedCard.img" [src]="'assets/images/default-img.png'" alt="card-image">
            </div>
            <div class="col-sm-7 position-relative p-all-10">
              <div class="window-close" (click)="selectedCard = {}"></div>
              <div class="mbottom-5 fs-16 fw-bolder multi-ellipsis w-90" [title]="selectedCard.displayName">
                {{selectedCard.displayName}}</div>
              <div class="mbottom-5 multi-ellipsis w-90" [title]="selectedCard.qualification">{{selectedCard.qualification}}
              </div>
              <div class="mbottom-5 multi-ellipsis" [title]="selectedCard.designation">{{selectedCard.designation}}
              </div>
              <div class="mtop-30 multi-ellipsis line-7" [title]="selectedCard.details">{{selectedCard.details}}</div>
              <button class="btn btn-primary mtop-10" (click)="gotToDetailPage(selectedCard)">More details</button>
              <button class="btn btn-primary mtop-10 mleft-20">Book appointment</button>
            </div>
          </div>
        </ng-template>
        <div *ngIf="!reportData || (reportData && reportData.length <= 0)" class="text-center">No data available</div>
      </div>
    </div>
  </div>
</section>